# AWS Config

## Aws Config란?
- AWS 리소스 구성을 측정 , 감사 및 평가할 수 있는 서비스입니다.
- AWS 리소스 구성을 지속적으로 모니터링 및 기록하고 원하는 구성을 기준으로 기록된 구성을 자동으로 평가합니다.
- Config 를 사용하면 AAWS 리소스 간 구성 및 관계 변화를 검토하고 자세한 리소스 구성 기록을 분석하고 내부 지침에 지정되어 있는 구성을 기준으로 전반적인 규정 준수 여부를 확인합니다.
- 규정 준수 감사 , 보안 분석 , 변경 관리 및 운영 문제 해결 작업 간소화

## Aws Config
- AWS 리소스의 설정과 상태를 모니터링 하는 서비스
    - AWS 리소스의 상태 및 상태 변경 사항을 저장
    - AWS 리소스가 특정 상태가 유지되도록 규칙 생성
    - AWS 계정에서 사용중인 모든 리소스 인벤토리 생성 가능
- 리전 단위 
    - 각 리전별로 활성화 필요
        - 단 애그리게이터 (Aggregator)를 사용하면 여러 계정과 리전에 걸쳐 리소스 데이터 수집 및 규칙 구성 가능

## AWS Config 규칙
- AWS 리소스의 이상적인 구성 상태를 정의
    - 예 : 특정 Tag가 지정디어 있어야 함. EC2 인스턴스가 특정 AMI로 실행되어야 함 등
- 지정한 규칙에 맞는 상태가 아닐 경우 규칙 미 준수 상태로 변경
    - 이후 Amazon EventBridge 등으로 알람/대응 가능
- 규칙
    - AWS 관리 규칙 (AWS에서 생성)
    - 사용자 지정 규칙 (Lambda 혹은 Guard 를 통해 사용자 지정 로직을 적용한 규칙)
        - Guard : AWS 정책을 코드로 쓸 수 있는 (Policy-As-Code) 일종의 언어
- 트리거
    - 특정 리소스가 변경되었을 때 
    - 지정한 시간 마다

## 리소스 인벤토리
- AWS Config 에 의해 기록된 리소스 및 삭제 리소스를 검색 및 조회 가능
- 리소스의 세부 정보 조회
    - 리소스 구성의 변경사항
    - 리소스의 세부 사항 및 설정
    - 현재 적용중인 규칙