# CloudWatch

## CloudWath란 ?
- DevOps 엔지니어 , 개발자 , SRE (사이트 안전성 엔지니어) 및 IT 관리자를 위해 구축된 모니터링 및 관찰 서비스 기능
- 어플리케이션 모니터링 , 시스템 전반의 성능 변경사항 대응 , 리소스 사용률 최적화 , 운영 상태에 대한 통합된 보기 확보 시 필요한 데이터와 실행 가능한 통찰력 제공 

<br/>

## CloudWath 의 기능

### 특징
- AWS  내외의 로그를 모아 보관 , 사용자에게 전달
- 로그 ,경보 , 이벤트 , 기타 로그를 위한 대시보드 등의 기능 제공 

### 로그
- 주요 서비스들에 대한 모니터링 (로그 , 메트릭 등) 제공
    - EC2 , AutoScaling Groups , ELB , Route53
    - CloudFront , EBS , Storage GateWay 등 
- 주요 서비스의 출력 결과 기록 (Lambda 등)
- 사용자가 직접 로그 그룹을 만들어 외부로부터 로그를 적제 가능 
    - 주로 온프레미스의 로그를 저장 및 사용
- 로그를 쿼리 형식으로 분석 가능한 Insight 활용 가능

<br/>

## Cloudwatch 이벤트
- 일정주기 혹은 AWS의 여러 이벤트를 감지해 다른 AWS 서비스 (SNS , Lambda) 등을 호출하는 규칙
    - EventBridge 규칙과 동일
- 일정주기로 이벤트 생성 가능
    - 예 : 매시 정각마다 하루에 쌓인 로그를 분석
- AWS의 여러 이벤트를 잡아 생성

<br/>

## CloudWatch 경보
- 로그를 기반으로 지표를 생성해서 특정 지표에 조건에 따라 경보 발생
    - 경보는 다른 서비스(SNS를 통해) 호출 가능
- 예시
    - CPU 사용량이 일정 수준 이상이라면 ...
    - 호출 Lambda에 에러가 발생한다면 ... 

<br/>

## Cloud Trail
- AWS계정의 거버넌스 , 규정 준수 , 운영 감사 , 위험 감사를 지원하는 서비스
- AWS 인프라에서 계정 활동과 관련된 작업을 기록하고 지속적으로 모니터링하며 보관할 수 있습니다.
- 여러 서비스에 대해 API 이용 로그 제공
    - API 호출의 시간 및 결과 , 에러 , 사용 인증 정보 등을 기록
    - S3 와 람다의 경우 따로 활성화 필요
    - AWS CLI , 콘솔 , API 호출 등 모든 이벤트가 대상
        - 몇몇 Data API의 경우 수동으로 활성화 필요 (S3, Lambda , DynamoDB 등)
